!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Annotorious=e():(n.Annotorious=n.Annotorious||{},n.Annotorious.Toolbar=e())}(self,(function(){return(()=>{var n={922:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=function(n,e){var t,r,o,c=n[1]||"",i=n[3];if(!i)return c;if(e&&"function"==typeof btoa){var a=(t=i,r=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),"/*# ".concat(o," */")),s=i.sources.map((function(n){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(n," */")}));return[c].concat(s).concat([a]).join("\n")}return[c].join("\n")}(e,n);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,r){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(r)for(var c=0;c<this.length;c++){var i=this[c][0];null!=i&&(o[i]=!0)}for(var a=0;a<n.length;a++){var s=[].concat(n[a]);r&&o[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),e.push(s))}},e}},424:(n,e,t)=>{(e=t(922)(!1)).push([n.id,".a9s-toolbar-btn {\n  margin:4px 4px 4px 0;\n  outline:0;\n  border:none;\n  cursor:pointer;\n  background-color:transparent;\n  border-radius:4px;\n  padding:8px;\n  width:45px;\n  height:45px;\n}\n\n.a9s-toolbar-btn:hover {\n  background-color:rgba(0,0,0,0.05);\n}\n\n.a9s-toolbar-btn-inner {\n  display:flex;\n  align-items: center;\n}\n\n.a9s-toolbar-btn svg {\n  overflow:visible;\n  width:100%;\n  height:100%;\n}\n\n.a9s-toolbar-btn svg * {\n  stroke-width:5px;\n  fill:none;\n  stroke:rgba(0,0,0,0.5);\n}\n\n.a9s-toolbar-btn g.handles circle {\n  stroke-width:4px;\n  fill:#fff;\n  stroke:#000;\n}\n\n.a9s-toolbar-btn.mouse path{\n  fill:#000;\n}\n\n.a9s-toolbar-btn.active {\n  background-color:rgba(0,0,0,0.3);\n}\n\n.a9s-toolbar-btn.active svg * {\n  stroke:rgba(255,255,255,0.6);\n}\n\n.a9s-toolbar-btn.active.mouse path{\n  fill: rgba(255,255,255,0.6);\n}\n\n.a9s-toolbar-btn.active g.handles circle {\n  stroke:#fff;\n  fill:rgba(0,0,0,0.2);\n}\n",""]),n.exports=e},379:(n,e,t)=>{"use strict";var r,o=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),c=[];function i(n){for(var e=-1,t=0;t<c.length;t++)if(c[t].identifier===n){e=t;break}return e}function a(n,e){for(var t={},r=[],o=0;o<n.length;o++){var a=n[o],s=e.base?a[0]+e.base:a[0],l=t[s]||0,u="".concat(s," ").concat(l);t[s]=l+1;var d=i(u),f={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(c[d].references++,c[d].updater(f)):c.push({identifier:u,updater:v(f,e),references:1}),r.push(u)}return r}function s(n){var e=document.createElement("style"),r=n.attributes||{};if(void 0===r.nonce){var c=t.nc;c&&(r.nonce=c)}if(Object.keys(r).forEach((function(n){e.setAttribute(n,r[n])})),"function"==typeof n.insert)n.insert(e);else{var i=o(n.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var l,u=(l=[],function(n,e){return l[n]=e,l.filter(Boolean).join("\n")});function d(n,e,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(n.styleSheet)n.styleSheet.cssText=u(e,o);else{var c=document.createTextNode(o),i=n.childNodes;i[e]&&n.removeChild(i[e]),i.length?n.insertBefore(c,i[e]):n.appendChild(c)}}function f(n,e,t){var r=t.css,o=t.media,c=t.sourceMap;if(o?n.setAttribute("media",o):n.removeAttribute("media"),c&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(c))))," */")),n.styleSheet)n.styleSheet.cssText=r;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(r))}}var g=null,p=0;function v(n,e){var t,r,o;if(e.singleton){var c=p++;t=g||(g=s(e)),r=d.bind(null,t,c,!1),o=d.bind(null,t,c,!0)}else t=s(e),r=f.bind(null,t,e),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return r(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;r(n=e)}else o()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=a(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var r=0;r<t.length;r++){var o=i(t[r]);c[o].references--}for(var s=a(n,e),l=0;l<t.length;l++){var u=i(t[l]);0===c[u].references&&(c[u].updater(),c.splice(u,1))}t=s}}}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var c=e[r]={id:r,exports:{}};return n[r](c,c.exports,t),c.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e);var r={};return(()=>{"use strict";t.d(r,{default:()=>d});var n=t(379),e=t.n(n),o=t(424),c=t.n(o);e()(c(),{insert:"head",singleton:!1}),c().locals;var i,a={mouse:(i=document.createElementNS("http://www.w3.org/2000/svg","svg"),i.setAttribute("viewBox","0 0 320 540"),i.setAttribute("style","width: 29px; height: 20px;"),i.innerHTML='<g>\n\t\t<path d="M0 55.2V426c0 12.2 9.9 22 22 22c6.3 0 12.4-2.7 16.6-7.5L121.2 346l58.1 116.3c7.9 15.8 27.1 22.2 42.9 14.3s22.2-27.1 14.3-42.9L179.8 320H297.9c12.2 0 22.1-9.9 22.1-22.1c0-6.3-2.7-12.3-7.4-16.5L38.6 37.9C34.3 34.1 28.9 32 23.2 32C10.4 32 0 42.4 0 55.2z"/>\n\t </g>',i),rect:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <rect x="12" y="10" width="46" height="30" />\n      <g class="handles">\n        <circle cx="12"  cy="10"  r="5" />\n        <circle cx="58" cy="10"  r="5" />\n        <circle cx="12"  cy="40" r="5" />\n        <circle cx="58" cy="40" r="5" />\n      </g>\n    </g>\n  ',n}(),polygon:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <path d=\'M 5,14 60,5 55,45 18,38 Z\' />\n      <g class="handles">\n        <circle cx="5"  cy="14"  r="5" />\n        <circle cx="60" cy="5"  r="5" />\n        <circle cx="55"  cy="45" r="5" />\n        <circle cx="18" cy="38" r="5" />\n      </g>\n    </g>\n  ',n}(),circle:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <circle cx="35" cy="25" r="23" />\n      <g class="handles">\n        <circle cx="35" cy="2"  r="5" />\n        <circle cx="12" cy="25" r="5" />\n        <circle cx="58" cy="25" r="5" />\n        <circle cx="35" cy="48" r="5" />\n      </g>\n    </g>\n  ',n}(),ellipse:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <ellipse cx="35" cy="25" rx="30" ry="19" />\n      <g class="handles">\n        <circle cx="35" cy="6"  r="5" />\n        <circle cx="5" cy="25" r="5" />\n        <circle cx="65" cy="25" r="5" />\n        <circle cx="35" cy="44" r="5" />\n      </g>\n    </g>\n  ',n}(),freehand:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <path d="m 34.427966,2.7542372 c 0,0 -22.245763,20.7627118 -16.737288,27.7542378 5.508475,6.991525 27.648305,-15.36017 34.639831,-9.11017 6.991525,6.25 -11.440678,13.665255 -13.983051,25.423729" />\n      <g class="handles">\n        <circle cx="34.427966" cy="2.7542372"  r="5" />\n        <circle cx="38.347458" cy="46.822033" r="5" />\n      </g>\n    </g>\n  ',n}(),point:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <circle cx="36" cy="24" r="11" />\n      <g class="handles"><circle cx="36" cy="24" r="4" /></g>\n      <line x1="36" y1="3" x2="36" y2="13" />\n      <line x1="36" y1="35" x2="36" y2="45" />\n      <line x1="15" y1="24" x2="25" y2="24" />\n      <line x1="47" y1="24" x2="57" y2="24" />\n    </g>\n  ',n}(),"annotorious-tilted-box":function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <path d="M 45.14,2.37 60.67,20.76 25.33,50.32 9.9,31.94 Z"/>\n      <g class="handles">\n        <circle cx="45.14" cy="2.37"  r="5" />\n        <circle cx="60.67" cy="20.76"  r="5" />\n        <circle cx="25.33" cy="50.32" r="5" />\n        <circle cx="9.9"   cy="31.94" r="5" />\n      </g>\n    </g>\n  ',n}(),line:function(){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox","0 0 70 50"),n.innerHTML='\n    <g>\n      <line x1="10" y1="50" x2="60" y2="10"></line>\n      <g class="handles">\n        <circle cx="55" cy="14" r="5"></circle>\n        <circle cx="12" cy="47" r="5"></circle>\n      </g>\n    </g>\n  ',n}()},s={mouse:"",rect:"Rectangle",polygon:"Polygon",circle:"Circle",ellipse:"Ellipse",freehand:"Freehand",point:"Point","annotorious-tilted-box":"Angled Box",line:"Line"},l=function(n,e){var t=new Set(n.getAttribute("class").split(" "));t.add(e),n.setAttribute("class",Array.from(t).join(" "))},u=function(n,e){var t=n.getAttribute("class").split(" ").filter((function(n){return n!==e}));n.setAttribute("class",t.join(" "))};const d=function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=!!n.fitBounds,o=document.createElement("div");o.className="a9s-toolbar";var c=function(){var n=o.querySelector(".a9s-toolbar-btn.active");n&&u(n,"active")},i=function(n){c(),l(n,"active")},d=function(n,e){n=n||o.querySelector(".a9s-toolbar-btn.active").classList[1],r&&"mouse"!=n?e.setDrawingEnabled(!0):r&&"mouse"==n&&e.setDrawingEnabled(!1)},f=function(e,r){var c=a[e];if(c){var l=document.createElement("button");l.className=r?"a9s-toolbar-btn ".concat(e," active"):"a9s-toolbar-btn ".concat(e);var u=s[e]?"Create a ".concat(s[e]," annotation"):"mouse"==e?"Disable annotatation creation, move around the image":"Create a ".concat(e," annotation");l.setAttribute("aria-label",u);var f=document.createElement("span");f.className="a9s-toolbar-btn-inner",f.appendChild(c),t.withLabel&&s[e]&&(f.innerHTML+='<span class="a9s-toolbar-btn-label">'.concat(s[e],"</span>")),l.addEventListener("click",(function(){i(l),"mouse"!=e&&n.setDrawingTool(e),t.infoElement&&(t.infoElement.innerHTML="polygon"==e?"To stop Polygon annotation selection double click.":""),d(e,n)})),l.appendChild(f),o.appendChild(l),t.withMouse&&(n.on("cancelSelected",(function(){d("",n)})),n.on("createAnnotation",(function(e){d("",n)})),n.on("updateAnnotation",(function(e){d("",n)})),n.on("deleteAnnotation",(function(e){d("",n)})))}};t.withMouse&&f("mouse",!0);var g=t.drawingTools?t.drawingTools.filter((function(e){return-1!=n.listDrawingTools().indexOf(e)})):n.listDrawingTools();g.forEach((function(n,e){f(n,!r&&0===e)})),r&&!t.withMouse&&n.on("createSelection",c),e.appendChild(o)}})(),r.default})()}));